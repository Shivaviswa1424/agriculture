<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OrganIyo - Hero Mock</title>

  <!-- Google fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="home.css" />
</head>
<body>
  <header class="site-header" id="siteHeader">
    <div class="header-inner">
      <div class="logo-wrap">
        <img src="logo.png" alt="OrganIyo logo" class="logo-image" />
        <div class="logo-text">ORGANIYO</div>
      </div>

      <button class="hamburger" aria-label="Open menu" aria-expanded="false" aria-controls="main-nav">
        <span class="bar bar1"></span>
        <span class="bar bar2"></span>
        <span class="bar bar3"></span>
      </button>

      <nav id="main-nav" class="main-nav" aria-label="Main navigation">
        <a href="#" class="nav-link">Crop Recommendation</a>
        <a href="#" class="nav-link">Market Prices</a>
        <a href="#" class="nav-link">Expert Help</a>
      </nav>

      <div class="header-controls">
        <div class="cta">
      <button id="buyBtn" class="btn-buy">üçÉ current Weather(send SMS)</button>
  </div>

</div>

        <div class="cta lang-dropdown" style="position:relative;">
          <button id="langBtn" class="btn-buy" aria-haspopup="true" aria-expanded="false">
            <span class="leaf">üçÉ</span>
            <span id="langBtnLabel">Language</span>
          </button>
          <div id="langList" class="lang-list" role="listbox" aria-label="Select language">
            <button data-lang="en">English</button>
            <button data-lang="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</button>
            <button data-lang="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="hero" aria-label="Organiyo hero" style="position:relative;">
      <div class="hero-content">
        <h1 id="heroTitle" class="hero-title">Organiyo ‚Äì Organic Food Farming</h1>
        <p class="hero-sub">Userfriendly, modern, creative unique sections.</p>

        <!-- slideshow dots -->
        <div class="slideshow-dots" id="slideshowDots" aria-hidden="false" style="margin-top:18px;"></div>
      </div>

      <!-- weather card (top right) -->
      <div id="weatherCard" class="weather-card" aria-live="polite" title="Current weather">
        <div class="weather-left">
          <div class="wx-temp" id="wxTemp">--¬∞</div>
          <div class="wx-desc" id="wxDesc">Detecting location...</div>
          <div class="wx-city" id="wxCity"></div>
        </div>
        <div class="weather-icon-wrap">
          <img id="wxIcon" class="wx-icon" src="" alt="weather icon" />
        </div>
      </div>
      
    </section>
  </main>
 <!-- ---------- FEATURES GRID ---------- -->
<section class="features-section">
  <div class="features-title">Useful Features</div>
  <div class="features-desc">
    Designed for showcasing all manner of creative work in a truly modern, art-inspired & animation-driven environment.
  </div>

  <div class="features-grid">
    <div class="feature-card">
      <div class="feature-icon" aria-hidden="true">
        <svg width="36" height="36" fill="none" stroke="#954bc7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 18c5-8 11 8 16 0 4-6-6-10-10 0s-10 6-6 0c5-8 11 8 16 0" />
        </svg>
      </div>
      <a class="feature-link" href="crop.html">Crop Recommendation</a>
    </div>

    <div class="feature-card">
      <div class="feature-icon" aria-hidden="true">
        <svg width="36" height="36" fill="none" stroke="#954bc7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M25 10c-7 14-14 10-14 14s7 8 14-14z"/>
        </svg>
      </div>
      <a class="feature-link" href="weather.html">Weather Insights</a>
    </div>

    <div class="feature-card">
      <div class="feature-icon" aria-hidden="true">
        <svg width="36" height="36" fill="none" stroke="#954bc7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="10" y="6" width="16" height="24" rx="8" />
          <line x1="18" y1="8" x2="18" y2="18"/>
        </svg>
      </div>
      <a class="feature-link" href="pest.html">Pest Detections</a>
    </div>

    <div class="feature-card">
      <div class="feature-icon" aria-hidden="true">
        <svg width="36" height="36" fill="none" stroke="#954bc7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="10" y="6" width="16" height="24" rx="8" />
          <line x1="18" y1="8" x2="18" y2="18"/>
        </svg>
      </div>
      <a class="feature-link" href="market.html">Market Prices</a>
    </div>

    <div class="feature-card">
      <div class="feature-icon" aria-hidden="true">
        <svg width="36" height="36" fill="none" stroke="#954bc7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="8" y="14" width="20" height="5" rx="1" />
          <rect x="12" y="23" width="12" height="5" rx="1" />
        </svg>
      </div>
      <a class="feature-link" href="sell.html">Buy & Sell Direct</a>
    </div>

    <div class="feature-card">
      <div class="feature-icon" aria-hidden="true">
        <svg width="36" height="36" fill="none" stroke="#954bc7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M7 22v-2a11 11 0 1 1 22 0v2"/>
          <rect x="3" y="22" width="7" height="10" rx="3"/>
          <rect x="26" y="22" width="7" height="10" rx="3"/>
        </svg>
      </div>
      <a class="feature-link" href="help.html">Expert Help</a>
    </div>
  </div>
</section>

  <!-- features, faq, footer (kept same as you provided) -->
  <!-- ... (omitted here for brevity ‚Äî paste your existing features/faq/footer markup) ... -->
<div class="faq-container">
    <div class="faq-title">Faq & Answers</div>
    
    <div class="faq-item">
      <div class="faq-question-row" tabindex="0">
        <div class="faq-question">
          After Organiyo purchase, will I have all the demos and its pages?
        </div>
        <div class="faq-toggle">+</div>
      </div>
      <div class="faq-answer">
        <!-- Answer content can be added here -->
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question-row" tabindex="0">
        <div class="faq-question">
          Can I get free support?
        </div>
        <div class="faq-toggle active">‚Äì</div>
      </div>
      <div class="faq-answer show">
        Yes. You can get free support after purchase this Theme.
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question-row" tabindex="0">
        <div class="faq-question">
          Can I get free support?
        </div>
        <div class="faq-toggle active">‚Äì</div>
      </div>
      <div class="faq-answer show">
        Yes. You can get free support after purchase this Theme.
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question-row" tabindex="0">
        <div class="faq-question">
          Can I get regular Updates?
        </div>
        <div class="faq-toggle">+</div>
      </div>
      <div class="faq-answer">
        <!-- Answer content -->
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question-row" tabindex="0">
        <div class="faq-question">
          Is it cross browser compatibility?
        </div>
        <div class="faq-toggle">+</div>
      </div>
      <div class="faq-answer">
        <!-- Answer content -->
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question-row" tabindex="0">
        <div class="faq-question">
          Can I change content ?
        </div>
        <div class="faq-toggle">+</div>
      </div>
      <div class="faq-answer">
        <!-- Answer content -->
      </div>
    </div>
  </div>
<!-- Footer Section -->
  <footer class="footer-section">
    <div class="footer-content">
      <h2>Create your Incredible <br> Website with Organiyo!</h2>
      <p>One-time payment &amp; get free life time license and update</p>
      <button class="buy-btn">üå± Buy now</button>
    </div>

    <!-- Scroll to top button -->
    <button class="scroll-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
      üå±
    </button>

<script>
/* ================== Slideshow (multilingual H1) ================== */
const slides = [
  { lang: 'en', title: 'Organiyo ‚Äì Organic Food Farming' },
  { lang: 'ta', title: '‡ÆÜ‡Æ∞‡Øç‡Æï‡Ææ‡Æ©‡Æø‡ÆØ‡Øã - ‡ÆÜ‡Æ∞‡Øç‡Æï‡Ææ‡Æ©‡Æø‡Æï‡Øç ‡Æâ‡Æ£‡Æµ‡ØÅ ‡Æµ‡Øá‡Æ≥‡Ææ‡Æ£‡Øç‡ÆÆ‡Øà' },
  { lang: 'hi', title: '‡§ë‡§∞‡•ç‡§ó‡•á‡§®‡§ø‡§Ø‡•ã - ‡§ú‡•à‡§µ‡§ø‡§ï ‡§ñ‡§æ‡§¶‡•ç‡§Ø ‡§ñ‡•á‡§§‡•Ä' }
];

const heroTitle = document.getElementById('heroTitle');
const dotsContainer = document.getElementById('slideshowDots');
let current = 0;
let slideTimer = null;

function renderDots() {
  dotsContainer.innerHTML = '';
  slides.forEach((s, i) => {
    const d = document.createElement('div');
    d.className = 'slideshow-dot' + (i === current ? ' active' : '');
    d.setAttribute('role', 'button');
    d.setAttribute('aria-label', 'Show ' + s.lang + ' title');
    d.style.cursor = 'pointer';
    d.addEventListener('click', () => goTo(i));
    dotsContainer.appendChild(d);
  });
}

function showSlide(i, withAnimation = true) {
  current = (i + slides.length) % slides.length;
  heroTitle.classList.remove('show');
  setTimeout(() => {
    heroTitle.textContent = slides[current].title;
    heroTitle.classList.add('show');
  }, withAnimation ? 220 : 0);
  renderDots();
}

function goTo(i) { showSlide(i); resetTimer(); }

function startTimer() { slideTimer = setInterval(() => showSlide(current + 1), 4200); }
function resetTimer() { if (slideTimer) clearInterval(slideTimer); startTimer(); }

showSlide(0, false);
startTimer();

/* ============== Language dropdown behavior ============== */
const langBtn = document.getElementById('langBtn');
const langList = document.getElementById('langList');
const langBtnLabel = document.getElementById('langBtnLabel');

langBtn.addEventListener('click', (e) => {
  const expanded = langBtn.getAttribute('aria-expanded') === 'true';
  langBtn.setAttribute('aria-expanded', String(!expanded));
  langList.style.display = expanded ? 'none' : 'block';
});

langList.addEventListener('click', (e) => {
  const b = e.target.closest('button[data-lang]');
  if (!b) return;
  const selected = b.dataset.lang;
  const idx = slides.findIndex(s => s.lang === selected);
  if (idx >= 0) {
    goTo(idx);
    langBtnLabel.textContent = selected === 'en' ? 'Language' : (selected === 'ta' ? '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç' : '‡§π‡§ø‡§Ç‡§¶‡•Ä');
  }
  langList.style.display = 'none';
  langBtn.setAttribute('aria-expanded', 'false');
});
document.addEventListener('click', (e) => {
  if (!e.composedPath().includes(langBtn) && !e.composedPath().includes(langList)) {
    langList.style.display = 'none';
    langBtn.setAttribute('aria-expanded', 'false');
  }
});

/* ============== Weather fetching & icon mapping ============== */

/*
  Your API key (you provided it). If you want to change later, update this string.
  NOTE: This is your key as given in chat: "c96b27ac6942b2b614edce0b67be198b"
*/
const API_KEY = 'c96b27ac6942b2b614edce0b67be198b';

// Optionally map OpenWeather icon codes to your own assets (leave null to use OpenWeather icons)
const CUSTOM_ICON_PATH = null; // e.g. 'icons/' (if you place local SVGs named like '01d.svg')
// If CUSTOM_ICON_PATH is null we use openweathermap icon urls: https://openweathermap.org/img/wn/{icon}@2x.png

const wxDesc = document.getElementById('wxDesc');
const wxTemp = document.getElementById('wxTemp');
const wxCity = document.getElementById('wxCity');
const wxIcon = document.getElementById('wxIcon');

async function fetchWeatherByCoords(lat, lon) {
  try {
    if (!API_KEY) {
      throw new Error('Missing API key (set API_KEY variable)');
    }
    const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${API_KEY}`;
    // console.log('Weather URL:', url);
    const res = await fetch(url);
    if (!res.ok) {
      const body = await res.text().catch(()=>'');
      throw new Error('Weather request failed: ' + res.status + ' ' + body);
    }
    const data = await res.json();

    const temp = Math.round(data.main.temp);
    const descRaw = data.weather && data.weather[0] && data.weather[0].description ? data.weather[0].description : '';
    const desc = descRaw ? (descRaw.charAt(0).toUpperCase() + descRaw.slice(1)) : '';
    const iconCode = data.weather && data.weather[0] && data.weather[0].icon ? data.weather[0].icon : null;
    const city = data.name || '';

    wxTemp.textContent = `${temp}¬∞`;
    wxDesc.textContent = desc || 'Weather';
    wxCity.textContent = city;

    // choose icon: either custom local set or OpenWeather's icon endpoint
    if (iconCode) {
      if (CUSTOM_ICON_PATH) {
        // user-supplied local icons named like "01d.svg" etc.
        wxIcon.src = `${CUSTOM_ICON_PATH}${iconCode}.svg`;
      } else {
        wxIcon.src = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
      }
      wxIcon.alt = desc;
    } else {
      wxIcon.src = '';
      wxIcon.alt = '';
    }

  } catch (err) {
    console.error('fetchWeatherByCoords error:', err);
    wxDesc.textContent = 'Unable to get weather';
    wxTemp.textContent = '';
    wxCity.textContent = '';
    wxIcon.src = '';
  }
}

// IP-based fallback geolocation
async function fetchIPLocation() {
  try {
    const r = await fetch('https://ipapi.co/json/');
    if (!r.ok) throw new Error('IP lookup failed');
    const ip = await r.json();
    return { lat: ip.latitude, lon: ip.longitude, city: ip.city };
  } catch (e) {
    console.warn('IP geolocation failed', e);
    return null;
  }
}

async function getWeather() {
  if ('geolocation' in navigator) {
    navigator.geolocation.getCurrentPosition(async (pos) => {
      const { latitude: lat, longitude: lon } = pos.coords;
      fetchWeatherByCoords(lat, lon);
    }, async (err) => {
      console.warn('geolocation error:', err);
      const ipLoc = await fetchIPLocation();
      if (ipLoc) fetchWeatherByCoords(ipLoc.lat, ipLoc.lon);
      else { wxDesc.textContent = 'Location unavailable'; wxTemp.textContent = ''; }
    }, { maximumAge: 600000, timeout: 8000 });
  } else {
    const ipLoc = await fetchIPLocation();
    if (ipLoc) fetchWeatherByCoords(ipLoc.lat, ipLoc.lon);
    else { wxDesc.textContent = 'Location unavailable'; wxTemp.textContent = ''; }
  }
}
getWeather();

/* ====== small helper: reveal hero title when ready (animation) ====== */
window.addEventListener('load', () => {
  setTimeout(()=> heroTitle.classList.add('show'), 120);
});

/* ====== hamburger & header scroll behavior (kept from your original) ====== */
(function() {
  const burger = document.querySelector('.hamburger');
  const nav = document.getElementById('main-nav');
  if (burger && nav) {
    burger.addEventListener('click', () => {
      const expanded = burger.getAttribute('aria-expanded') === 'true';
      burger.setAttribute('aria-expanded', String(!expanded));
      nav.classList.toggle('open');
      burger.classList.toggle('is-active');
    });
  }
  const header = document.querySelector('.site-header');
  const scrollThreshold = 20;
  const onScroll = () => {
    if (window.scrollY > scrollThreshold) header.classList.add('scrolled');
    else header.classList.remove('scrolled');
  };
  window.addEventListener('scroll', onScroll, { passive: true });
  onScroll();
})();

/* ====== FAQ toggles (kept intact) ====== */
document.querySelectorAll('.faq-question-row').forEach(row => {
  row.addEventListener('click', () => {
    const toggle = row.querySelector('.faq-toggle');
    const answer = row.nextElementSibling;
    const isActive = toggle.classList.contains('active');
    if (isActive) {
      toggle.classList.remove('active');
      toggle.textContent = '+';
      answer.classList.remove('show');
    } else {
      toggle.classList.add('active');
      toggle.textContent = '‚Äì';
      answer.classList.add('show');
    }
  });
  row.addEventListener('keydown', e => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      row.click();
    }
  });
});

</script>
</body>
</html>
<script>
const LOG = (s) => { console.log(s); };

async function sendSMS() {
  LOG("Calling backend /send-sms ...");
  try {
    const resp = await fetch("http://127.0.0.1:5000/send-sms", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ body: "üåæ Shiva working on Organiyo test SMS üåæ" })
    });

    const data = await resp.json();
    LOG("Response JSON:", data);

    if (data.success) {
      alert("‚úÖ SMS request accepted.\nSID: " + (data.sid||"n/a") + "\nStatus: " + (data.status||"n/a"));
    } else {
      alert("‚ùå Server error: " + (data.error || JSON.stringify(data)));
    }
  } catch (err) {
    LOG("Fetch/network error:", err);
    alert("‚ö†Ô∏è Fetch/network error: " + err);
  }
}

document.addEventListener('DOMContentLoaded', () => {
  const btn = document.getElementById('buyBtn');
  if (btn) btn.addEventListener('click', sendSMS);
});
</script>
