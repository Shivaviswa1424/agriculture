<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OrganIyo - Hero Mock (Responsive + Animated)</title>

  <!-- Google fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#fff; --muted:#6b7280; --accent:#6d28d9; --accent-2:#10b981; --glass: rgba(255,255,255,0.6);
      --card-shadow: 0 8px 30px rgba(13,12,22,0.06);
      --radius:16px; --radius-sm:10px; --max-width:1200px;
      --ease: cubic-bezier(.2,.9,.3,1);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial; background:linear-gradient(180deg,#f7f7fb 0%, #ffffff 100%); color:#111}

    /* ---------- header ---------- */
    .site-header{position:sticky;top:0;z-index:60;backdrop-filter: blur(6px);background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.45));box-shadow:0 6px 18px rgba(16,24,40,0.04);transition:transform 400ms var(--ease),background 400ms var(--ease);}
    .header-inner{max-width:var(--max-width);margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:12px 20px;gap:12px}
    .logo-wrap{display:flex;align-items:center;gap:12px}
    .logo-image{width:44px;height:44px;border-radius:10px;object-fit:cover}
    .logo-text{font-weight:700;letter-spacing:1px;color:var(--accent);font-size:18px}

    .main-nav{display:flex;gap:18px;align-items:center}
    .main-nav a{color:var(--muted);text-decoration:none;font-weight:600;padding:8px 10px;border-radius:10px;transition:all 220ms var(--ease)}
    .main-nav a:hover{color:#fff;background:linear-gradient(90deg,var(--accent),#8b5cf6);transform:translateY(-2px)}

    .header-controls{display:flex;gap:10px;align-items:center}
    .btn-buy{background:linear-gradient(90deg,var(--accent-2),#06b6d4);border:none;color:white;padding:8px 12px;border-radius:12px;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(16,185,129,0.12);display:flex;align-items:center;gap:8px}

    /* hamburger */
    .hamburger{display:none;background:transparent;border:0;padding:8px;border-radius:8px;cursor:pointer}
    .hamburger .bar{display:block;width:22px;height:2px;margin:4px 0;background:#111;transition:transform 300ms,var(--ease);}
    .hamburger.is-active .bar1{transform:translateY(6px) rotate(45deg)}
    .hamburger.is-active .bar2{opacity:0}
    .hamburger.is-active .bar3{transform:translateY(-6px) rotate(-45deg)}

    /* language dropdown */
    .lang-dropdown{position:relative}
    .lang-list{display:none;position:absolute;right:0;top:46px;background:white;border-radius:12px;padding:8px;box-shadow:var(--card-shadow);min-width:160px}
    .lang-list button{display:block;width:100%;text-align:left;border:0;background:transparent;padding:8px 10px;border-radius:8px;cursor:pointer}
    .lang-list button:hover{background:#f3f4f6}

    /* hero */
    .hero{max-width:var(--max-width);margin:28px auto;padding:28px;display:flex;gap:20px;align-items:center;position:relative}
    .hero-content{flex:1}
    .hero-title{font-size:36px;margin:0;line-height:1.02;font-weight:800;opacity:0;transform:translateY(12px);transition:all 650ms var(--ease)}
    .hero-title.show{opacity:1;transform:none}
    .hero-sub{margin-top:12px;color:var(--muted);font-weight:600}

    /* slideshow dots */
    .slideshow-dots{display:flex;gap:8px;margin-top:18px}
    .slideshow-dot{width:10px;height:10px;border-radius:10px;background:#e6e6f0;cursor:pointer;transition:all 220ms}
    .slideshow-dot.active{transform:scale(1.5);background:linear-gradient(90deg,var(--accent),#8b5cf6)}

    /* weather card */
    .weather-card{width:150px;padding:12px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,0.7),rgba(255,255,255,0.5));backdrop-filter:blur(6px);box-shadow:var(--card-shadow);display:flex;align-items:center;gap:10px;position:absolute;right:12px;top:12px;transition:transform 450ms var(--ease)}
    .weather-card:hover{transform:translateY(-6px)}
    .wx-temp{font-weight:800;font-size:20px}
    .wx-desc{font-size:13px;color:var(--muted)}
    .wx-icon{width:56px;height:56px}

    /* features grid */
    .features-section{max-width:var(--max-width);margin:30px auto;padding:24px}
    .features-title{font-weight:800;font-size:20px}
    .features-desc{color:var(--muted);margin-top:6px}
    .features-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:16px}
    .feature-card{background:white;border-radius:12px;padding:16px;display:flex;gap:12px;align-items:center;box-shadow:var(--card-shadow);transition:transform 320ms var(--ease),box-shadow 320ms}
    .feature-card:hover{transform:translateY(-8px);box-shadow:0 18px 50px rgba(16,24,40,0.08)}
    .feature-link{font-weight:700;color:#111;text-decoration:none}

    /* faq */
    .faq-container{max-width:var(--max-width);margin:20px auto;padding:24px}
    .faq-item{background:white;border-radius:12px;padding:12px;margin:10px 0;box-shadow:var(--card-shadow);overflow:hidden}
    .faq-question-row{display:flex;justify-content:space-between;align-items:center;cursor:pointer}
    .faq-answer{max-height:0;opacity:0;transition:all 320ms var(--ease);overflow:hidden}
    .faq-answer.show{max-height:240px;opacity:1;margin-top:8px}

    .footer-section{background:linear-gradient(90deg,#f9fafb,#fff);padding:28px;border-radius:18px;margin:36px auto;max-width:var(--max-width)}

    /* scroll reveal (will be controlled by JS) */
    .reveal{opacity:0;transform:translateY(16px);transition:all 700ms var(--ease)}
    .reveal.in{opacity:1;transform:none}

    /* responsive */
    @media (max-width:900px){
      .features-grid{grid-template-columns:repeat(2,1fr)}
      .hero{padding:20px}
      .weather-card{position:static;margin-left:auto}
    }
    @media (max-width:640px){
      .header-inner{padding:10px}
      .hamburger{display:block}
      .main-nav{position:fixed;left:0;right:0;top:72px;background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,255,255,0.95));flex-direction:column;padding:16px;gap:12px;border-radius:12px;transform:translateY(-8px);opacity:0;pointer-events:none;transition:all 360ms var(--ease)}
      .main-nav.open{opacity:1;pointer-events:auto;transform:none}
      .main-nav a{padding:12px;border-radius:10px}
      .features-grid{grid-template-columns:1fr}
      .hero{flex-direction:column;align-items:flex-start}
      .weather-card{position:static;width:100%}
      .logo-text{display:none}
    }

    /* small polish */
    .feature-icon svg, .logo-image{display:block}

    /* subtle floating animation for icons */
    @keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}
    .wx-icon{animation:floaty 4s ease-in-out infinite}

  </style>
</head>
<body>
  <header class="site-header" id="siteHeader" role="banner">
    <div class="header-inner">
      <div class="logo-wrap">
        <img src="logo.png" alt="OrganIyo logo" class="logo-image" />
        <div class="logo-text">ORGANIYO</div>
      </div>

      <button class="hamburger" aria-label="Open menu" aria-expanded="false" aria-controls="main-nav">
        <span class="bar bar1"></span>
        <span class="bar bar2"></span>
        <span class="bar bar3"></span>
      </button>

      <nav id="main-nav" class="main-nav" aria-label="Main navigation">
        <a href="#" class="nav-link">Crop Recommendation</a>
        <a href="#" class="nav-link">Market Prices</a>
        <a href="#" class="nav-link">Expert Help</a>
        <a href="#" class="nav-link">Weather Insights</a>
      </nav>

      <div class="header-controls">
        <div class="cta">
          <button id="buyBtn" class="btn-buy">üçÉ current Weather (send SMS)</button>
        </div>

        <div class="cta lang-dropdown" style="position:relative;">
          <button id="langBtn" class="btn-buy" aria-haspopup="true" aria-expanded="false">
            <span class="leaf">üçÉ</span>
            <span id="langBtnLabel">Language</span>
          </button>
          <div id="langList" class="lang-list" role="listbox" aria-label="Select language">
            <button data-lang="en">English</button>
            <button data-lang="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</button>
            <button data-lang="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main>
   <section class="hero" aria-label="Organiyo hero"
         style="position:relative; background-image: url('bg.jpg'); background-size: cover; background-position: center; background-attachment: fixed;">
  <!-- overlay for contrast -->
  <div class="hero-overlay" aria-hidden="true"></div>

  <!-- WEATHER CARD (live) - top-right on desktop, flows on mobile -->
  <div id="weatherCard" class="weather-card" aria-live="polite" title="Current weather">
    <div class="weather-left">
      <div class="wx-temp" id="wxTemp">--¬∞</div>
      <div class="wx-desc" id="wxDesc">Detecting location...</div>
      <div class="wx-city" id="wxCity"></div>
    </div>
    <div class="weather-icon-wrap">
      <img id="wxIcon" class="wx-icon" src="" alt="weather icon" />
    </div>
  </div>

  <div class="hero-content" style="position:relative; z-index:2; padding:80px 40px; max-width:1100px; margin:0 auto;">
    <h1 id="heroTitle" class="hero-title">Organiyo ‚Äì Organic Food Farming</h1>
    <p class="hero-sub">User-friendly, modern, creative unique sections. Built to feel alive on mobile.</p>

    <!-- slideshow dots -->
    <div class="slideshow-dots" id="slideshowDots" aria-hidden="false" style="margin-top:18px;"></div>

    <!-- subtle CTA row (appears after title) -->
    <div class="hero-ctas" style="margin-top:18px; display:flex; gap:12px; align-items:center;">
      <button class="btn-buy" id="heroWeatherBtn">üçÉ Check Weather</button>
      <a href="#features" class="btn-ghost"
         style="background:transparent;border:1px solid rgba(255,255,255,0.18);padding:8px 12px;border-radius:10px;color:#fff;font-weight:700;text-decoration:none">
         Explore features
      </a>
    </div>
  </div>

  <!-- animated floating shapes (decorative) -->
  <div class="hero-shape shape1" aria-hidden="true"></div>
  <div class="hero-shape shape2" aria-hidden="true"></div>
</section>
    <!-- ---------- FEATURES GRID ---------- -->
    <section class="features-section reveal">
      <div class="features-title">Useful Features</div>
      <div class="features-desc">Designed for showcasing all manner of creative work in a truly modern, art-inspired & animation-driven environment.</div>

      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon" aria-hidden="true">
            <svg width="36" height="36" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 18c5-8 11 8 16 0 4-6-6-10-10 0s-10 6-6 0c5-8 11 8 16 0" />
            </svg>
          </div>
          <a class="feature-link" href="crop.html">Crop Recommendation</a>
        </div>

        <div class="feature-card">
          <div class="feature-icon" aria-hidden="true">
            <svg width="36" height="36" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M25 10c-7 14-14 10-14 14s7 8 14-14z"/>
            </svg>
          </div>
          <a class="feature-link" href="weather.html">Weather Insights</a>
        </div>

        <div class="feature-card">
          <div class="feature-icon" aria-hidden="true">
            <svg width="36" height="36" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="10" y="6" width="16" height="24" rx="8" />
              <line x1="18" y1="8" x2="18" y2="18"/>
            </svg>
          </div>
          <a class="feature-link" href="pest.html">Pest Detections</a>
        </div>

        <div class="feature-card">
          <div class="feature-icon" aria-hidden="true">
            <svg width="36" height="36" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="10" y="6" width="16" height="24" rx="8" />
              <line x1="18" y1="8" x2="18" y2="18"/>
            </svg>
          </div>
          <a class="feature-link" href="market.html">Market Prices</a>
        </div>

        <div class="feature-card">
          <div class="feature-icon" aria-hidden="true">
            <svg width="36" height="36" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="8" y="14" width="20" height="5" rx="1" />
              <rect x="12" y="23" width="12" height="5" rx="1" />
            </svg>
          </div>
          <a class="feature-link" href="sell.html">Buy & Sell Direct</a>
        </div>

        <div class="feature-card">
          <div class="feature-icon" aria-hidden="true">
            <svg width="36" height="36" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M7 22v-2a11 11 0 1 1 22 0v2"/>
              <rect x="3" y="22" width="7" height="10" rx="3"/>
              <rect x="26" y="22" width="7" height="10" rx="3"/>
            </svg>
          </div>
          <a class="feature-link" href="help.html">Expert Help</a>
        </div>
      </div>
    </section>

    <div class="faq-container reveal">
    <div class="faq-title">Faq & Answers</div>
    
    <div class="faq-item">
      <div class="faq-question-row" tabindex="0">
        <div class="faq-question">After Organiyo purchase, will I have all the demos and its pages?</div>
        <div class="faq-toggle">+</div>
      </div>
      <div class="faq-answer">
        Yes ‚Äî each demo page and assets are included. You can customize content freely.
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question-row" tabindex="0">
        <div class="faq-question">Can I get free support?</div>
        <div class="faq-toggle active">‚Äì</div>
      </div>
      <div class="faq-answer show">
        Yes. You can get free support after purchase this Theme.
      </div>
    </div>
    
    <div class="faq-item">
      <div class="faq-question-row" tabindex="0">
        <div class="faq-question">Can I change content ?</div>
        <div class="faq-toggle">+</div>
      </div>
      <div class="faq-answer">
        All text, images and pages can be modified. Use the HTML and CSS files in the package.
      </div>
    </div>

  </div>

  <style>
  /* HERO overlay & shapes + animation tweaks */
  .hero-overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(6,6,23,0.35), rgba(13,24,35,0.15));backdrop-filter: blur(4px);border-radius:18px;}
  .hero-shape{position:absolute;border-radius:50%;opacity:0.12;filter:blur(18px);transform:translateZ(0);}
  .hero-shape.shape1{width:320px;height:320px;right:-80px;top:-40px;background:linear-gradient(90deg,#6d28d9,#10b981);animation:floatHero 8s ease-in-out infinite}
  .hero-shape.shape2{width:200px;height:200px;left:-60px;bottom:-40px;background:linear-gradient(90deg,#8b5cf6,#06b6d4);animation:floatHero 10s ease-in-out infinite}
  @keyframes floatHero{0%{transform:translateY(0)}50%{transform:translateY(-18px)}100%{transform:translateY(0)}}

  /* ensure text is readable on bg */
  .hero .hero-title, .hero .hero-sub, .hero .btn-buy, .hero .btn-ghost{color:#fff}
  .hero{padding:48px 18px;border-radius:18px;margin:28px auto}

  /* feature grid drop-in animation (staggered) */
  .feature-card{opacity:0;transform:translateY(18px) scale(0.995);transition:all 560ms cubic-bezier(.2,.9,.3,1)}
  .feature-card.in{opacity:1;transform:none}

  /* FAQ: nicer slide + fade with chevron */
  .faq-question{font-weight:700}
  .faq-toggle{font-weight:900;transition:transform 240ms ease}
  .faq-answer{max-height:0;opacity:0;transform:translateY(-8px);transition:all 360ms cubic-bezier(.2,.9,.3,1);padding:0 0}
  .faq-answer.show{max-height:400px;opacity:1;transform:none;padding:12px 0}
  .faq-question-row:focus{outline:2px solid rgba(99,102,241,0.18);border-radius:8px}
  </style>

  <script>
  // enhanced reveal for feature grid (stagger)
  const gridItems = document.querySelectorAll('.feature-card');
  const gridObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        gridItems.forEach((it, i) => setTimeout(()=> it.classList.add('in'), i*90));
        gridObserver.disconnect();
      }
    });
  },{threshold:0.12});
  const gridSection = document.querySelector('.features-section'); if (gridSection) gridObserver.observe(gridSection);

  // improved FAQ toggle with rotate
  document.querySelectorAll('.faq-question-row').forEach(row => {
    row.addEventListener('click', () => {
      const toggle = row.querySelector('.faq-toggle');
      const answer = row.nextElementSibling;
      const isActive = toggle.classList.contains('active');
      if (isActive) { toggle.classList.remove('active'); toggle.textContent = '+'; toggle.style.transform='rotate(0deg)'; answer.classList.remove('show'); }
      else { toggle.classList.add('active'); toggle.textContent = '‚Äì'; toggle.style.transform='rotate(180deg)'; answer.classList.add('show'); }
    });
    row.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); row.click(); } });
  });

  // hero entry animation on page load (scale + fade)
  window.addEventListener('load', ()=>{
    const hero = document.querySelector('.hero');
    if (hero){ hero.style.transform='scale(0.98)'; hero.style.opacity=0; setTimeout(()=>{ hero.style.transition='all 700ms cubic-bezier(.2,.9,.3,1)'; hero.style.transform='none'; hero.style.opacity=1 },80); }
  });

  // hook hero weather btn to main weather btn
  const heroWeatherBtn = document.getElementById('heroWeatherBtn'); if (heroWeatherBtn){ heroWeatherBtn.addEventListener('click', ()=> document.getElementById('buyBtn').click()); }

  </script>
    <footer class="footer-section reveal">
      <div class="footer-content">
        <h2>Create your Incredible <br> Website with Organiyo!</h2>
        <p>One-time payment &amp; get free life time license and update</p>
        <button class="buy-btn btn-buy">üå± Buy now</button>
      </div>

      <!-- Scroll to top button -->
      <button class="scroll-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" aria-label="scroll to top">üå±</button>
    </footer>
  </main>

  <script>
  /* Small helpers & animation patterns */
  const slides = [
    { lang: 'en', title: 'Organiyo ‚Äì Organic Food Farming' },
    { lang: 'ta', title: '‡ÆÜ‡Æ∞‡Øç‡Æï‡Ææ‡Æ©‡Æø‡ÆØ‡Øã - ‡ÆÜ‡Æ∞‡Øç‡Æï‡Ææ‡Æ©‡Æø‡Æï‡Øç ‡Æâ‡Æ£‡Æµ‡ØÅ ‡Æµ‡Øá‡Æ≥‡Ææ‡Æ£‡Øç‡ÆÆ‡Øà' },
    { lang: 'hi', title: '‡§ë‡§∞‡•ç‡§ó‡•á‡§®‡§ø‡§Ø‡•ã - ‡§ú‡•à‡§µ‡§ø‡§ï ‡§ñ‡§æ‡§¶‡•ç‡§Ø ‡§ñ‡•á‡§§‡•Ä' }
  ];

  const heroTitle = document.getElementById('heroTitle');
  const dotsContainer = document.getElementById('slideshowDots');
  let current = 0; let slideTimer = null;

  function renderDots(){
    dotsContainer.innerHTML='';
    slides.forEach((s,i)=>{
      const d=document.createElement('div'); d.className='slideshow-dot'+(i===current? ' active':''); d.setAttribute('role','button'); d.setAttribute('aria-label','Show '+s.lang+' title'); d.style.cursor='pointer'; d.addEventListener('click',()=>goTo(i)); dotsContainer.appendChild(d);
    });
  }
  function showSlide(i,withAnimation=true){
    current=(i+slides.length)%slides.length;
    heroTitle.classList.remove('show');
    setTimeout(()=>{ heroTitle.textContent=slides[current].title; heroTitle.classList.add('show'); }, withAnimation?220:0);
    renderDots();
  }
  function goTo(i){ showSlide(i); resetTimer(); }
  function startTimer(){ slideTimer=setInterval(()=>showSlide(current+1),4200); }
  function resetTimer(){ if(slideTimer) clearInterval(slideTimer); startTimer(); }
  showSlide(0,false); startTimer();

  /* language dropdown behavior */
  const langBtn = document.getElementById('langBtn');
  const langList = document.getElementById('langList');
  const langBtnLabel = document.getElementById('langBtnLabel');

  langBtn.addEventListener('click', (e) => {
    const expanded = langBtn.getAttribute('aria-expanded') === 'true';
    langBtn.setAttribute('aria-expanded', String(!expanded));
    langList.style.display = expanded ? 'none' : 'block';
  });

  langList.addEventListener('click', (e) => {
    const b = e.target.closest('button[data-lang]');
    if (!b) return;
    const selected = b.dataset.lang;
    const idx = slides.findIndex(s => s.lang === selected);
    if (idx >= 0) {
      goTo(idx);
      langBtnLabel.textContent = selected === 'en' ? 'Language' : (selected === 'ta' ? '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç' : '‡§π‡§ø‡§Ç‡§¶‡•Ä');
    }
    langList.style.display = 'none';
    langBtn.setAttribute('aria-expanded', 'false');
  });
  document.addEventListener('click', (e) => {
    if (!e.composedPath().includes(langBtn) && !e.composedPath().includes(langList)) {
      langList.style.display = 'none';
      langBtn.setAttribute('aria-expanded', 'false');
    }
  });

  /* weather fetching & icon mapping */
  const API_KEY = 'c96b27ac6942b2b614edce0b67be198b'; // keep your key here
  const CUSTOM_ICON_PATH = null;
  const wxDesc = document.getElementById('wxDesc');
  const wxTemp = document.getElementById('wxTemp');
  const wxCity = document.getElementById('wxCity');
  const wxIcon = document.getElementById('wxIcon');

  async function fetchWeatherByCoords(lat, lon) {
    try {
      if (!API_KEY) throw new Error('Missing API key (set API_KEY variable)');
      const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${API_KEY}`;
      const res = await fetch(url);
      if (!res.ok) { const body = await res.text().catch(()=>''); throw new Error('Weather request failed: ' + res.status + ' ' + body); }
      const data = await res.json();

      const temp = Math.round(data.main.temp);
      const descRaw = data.weather && data.weather[0] && data.weather[0].description ? data.weather[0].description : '';
      const desc = descRaw ? (descRaw.charAt(0).toUpperCase() + descRaw.slice(1)) : '';
      const iconCode = data.weather && data.weather[0] && data.weather[0].icon ? data.weather[0].icon : null;
      const city = data.name || '';

      wxTemp.textContent = `${temp}¬∞`;
      wxDesc.textContent = desc || 'Weather';
      wxCity.textContent = city;

      if (iconCode) {
        if (CUSTOM_ICON_PATH) { wxIcon.src = `${CUSTOM_ICON_PATH}${iconCode}.svg`; }
        else { wxIcon.src = `https://openweathermap.org/img/wn/${iconCode}@2x.png`; }
        wxIcon.alt = desc;
      } else { wxIcon.src = ''; wxIcon.alt = ''; }

    } catch (err) {
      console.error('fetchWeatherByCoords error:', err);
      wxDesc.textContent = 'Unable to get weather'; wxTemp.textContent = ''; wxCity.textContent = ''; wxIcon.src = '';
    }
  }

  async function fetchIPLocation() {
    try { const r = await fetch('https://ipapi.co/json/'); if (!r.ok) throw new Error('IP lookup failed'); const ip = await r.json(); return { lat: ip.latitude, lon: ip.longitude, city: ip.city }; }
    catch (e) { console.warn('IP geolocation failed', e); return null; }
  }

  async function getWeather() {
    if ('geolocation' in navigator) {
      navigator.geolocation.getCurrentPosition(async (pos) => { const { latitude: lat, longitude: lon } = pos.coords; fetchWeatherByCoords(lat, lon); }, async (err) => { console.warn('geolocation error:', err); const ipLoc = await fetchIPLocation(); if (ipLoc) fetchWeatherByCoords(ipLoc.lat, ipLoc.lon); else { wxDesc.textContent = 'Location unavailable'; wxTemp.textContent = ''; } }, { maximumAge: 600000, timeout: 8000 });
    } else { const ipLoc = await fetchIPLocation(); if (ipLoc) fetchWeatherByCoords(ipLoc.lat, ipLoc.lon); else { wxDesc.textContent = 'Location unavailable'; wxTemp.textContent = ''; } }
  }
  getWeather();

  /* hamburger & header scroll behavior */
  (function() {
    const burger = document.querySelector('.hamburger');
    const nav = document.getElementById('main-nav');
    if (burger && nav) {
      burger.addEventListener('click', () => {
        const expanded = burger.getAttribute('aria-expanded') === 'true';
        burger.setAttribute('aria-expanded', String(!expanded));
        nav.classList.toggle('open');
        burger.classList.toggle('is-active');
      });
    }

    const header = document.querySelector('.site-header');
    const scrollThreshold = 20;
    const onScroll = () => {
      if (window.scrollY > scrollThreshold) header.style.transform = 'translateY(-6px)';
      else header.style.transform = 'none';
    };
    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll();
  })();

  /* FAQ toggles */
  document.querySelectorAll('.faq-question-row').forEach(row => {
    row.addEventListener('click', () => {
      const toggle = row.querySelector('.faq-toggle');
      const answer = row.nextElementSibling;
      const isActive = toggle.classList.contains('active');
      if (isActive) { toggle.classList.remove('active'); toggle.textContent = '+'; answer.classList.remove('show'); }
      else { toggle.classList.add('active'); toggle.textContent = '‚Äì'; answer.classList.add('show'); }
    });
    row.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); row.click(); } });
  });

  /* reveal on scroll */
  const reveals = document.querySelectorAll('.reveal');
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(ent=>{ if(ent.isIntersecting){ ent.target.classList.add('in'); io.unobserve(ent.target);} });
  },{threshold:0.12});
  reveals.forEach(r=>io.observe(r));

  /* subtitle reveal */
  window.addEventListener('load', ()=>{ setTimeout(()=> heroTitle.classList.add('show'),120); });

  /* ===== SMS sending - calls backend (keeps your original logic) ===== */
  async function sendSMS(){
    console.log('Calling backend /send-sms ...');
    try{
      const resp = await fetch('http://127.0.0.1:5000/send-sms',{ method:'POST', headers:{ 'Content-Type':'application/json' }, body: JSON.stringify({ body: 'üåæ Shiva working on Organiyo test SMS üåæ' }) });
      const data = await resp.json(); console.log('Response JSON:', data);
      if (data.success) alert('‚úÖ SMS request accepted.\nSID: ' + (data.sid||'n/a') + '\nStatus: ' + (data.status||'n/a'));
      else alert('‚ùå Server error: ' + (data.error || JSON.stringify(data)));
    }catch(err){ console.error('Fetch/network error:', err); alert('‚ö†Ô∏è Fetch/network error: ' + err); }
  }
  document.addEventListener('DOMContentLoaded', ()=>{ const btn = document.getElementById('buyBtn'); if(btn) btn.addEventListener('click', sendSMS); });

  </script>
</body>
</html>
